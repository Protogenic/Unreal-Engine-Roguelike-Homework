# Безруков Владимир, Unreal Engine Homework
 
### Генерация комнат
Создается стартовая комната, в которой задана точка для генерации первых двух комнат-уровней.
![image](https://github.com/user-attachments/assets/939b702b-ef50-44c1-8f14-2a9d2a9244e9)

В условии было указано, что каждая комната должна иметь два прямых выхода в новые комнаты, но таким образом в случае генерации с 10 комнатами для прохождения, итоговое количество комнат достигло бы значения 1024, что сильно бы влияло на производительность. Поэтому я принял решение после каждого уровня сделать общую комнату, из которой уже будут идти выходы в новые комнаты, при этом геймплей остается точно таким же.
![image](https://github.com/user-attachments/assets/987f5a8d-cbe0-4708-997b-e0a822492fc0)

Случайным образом выбирается число от 6 до 10 - количество комнат до победы, которые друг за другом генерируются, у каждой комнаты есть объект Exit, который указывает на точку генерации следующей комнаты.
![image](https://github.com/user-attachments/assets/64a3fc2b-426b-46cf-8b27-1d8f33212d39)

В финальной комнате генерируется стена, не дающая игроку идти далее и финальный объект, при контакте с которым объявляется победа.
![image](https://github.com/user-attachments/assets/d608407b-aff8-4a23-a8d8-d33c1bd0534a)
![image](https://github.com/user-attachments/assets/8c9d2fc3-e6b7-4537-b681-b9c2e5e9634c)



Актор комнаты включает в себя сразу сложную и простую комнаты и общую зону. Добавлены объекты Box Collision, чтобы двигающиеся ловушки двигались от стены до стены.
![image](https://github.com/user-attachments/assets/99407509-4574-4cae-a6d8-094f3c5a4f44)

### Генерация ловушек
В акторе есть наборы точек спавна для каждой комнаты. Гернератор проходится по всем точкам, задается вероятность того, что на конкретной точке будет создана ловушка. После этого задается вероятность того, будет ловушка статичная или двигающаяся. В случае динамичной ловушки ей задается случайный угол поворота. 
![image](https://github.com/user-attachments/assets/ece09ec1-f882-4b45-af4e-36a502d717f6)
![image](https://github.com/user-attachments/assets/7eb6b39e-2c7e-43b5-ba3d-0817adba2134)

### Различие комнат
Сложная и простая комнаты отличаются значениями вероятностей в генераторе, то есть, по итогу, количеством ловушек и соотношением их типов. Так, в простой комнате будет меньше ловушек в сумме и меньше двигающихся ловушек, в соотношении в статичным.

В конце сложной комнаты находится сфера, востанавливающая очки здоровья игрока. Чтобы ее нельзя было забрать из общей комнаты, в конце уровней, как и в начале, стоят Box Collision объекты, которые ставят стену за игроком в момент, когда он заходит в уровень или из него выходит.
![image](https://github.com/user-attachments/assets/166803cd-4202-463f-a61c-2804cccd2c27)


